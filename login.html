
<!DOCTYPE html>
<html lang="fa">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="shortcut icon" href="./image.jpeg" type="image/x-icon">
    <title>داستان نویسی مشارکتی</title>
    <link rel="stylesheet" href="styles.css">
    <style>
        /* تعریف فونت و متغیرها */
        @font-face {
            font-family: 'B Nazanin';
            src: url('path/to/BNazanin.ttf') format('truetype');
        }

        :root {
            --primary-color: #6c63ff;
            --secondary-color: #f9a826;
            --background-color: #f7f8fc;
            --text-color: #333;
            --card-bg-color: #ffffff;
            --hover-color: rgba(108, 99, 255, 0.2);
            --button-shadow: 0px 4px 6px rgba(0, 0, 0, 0.1);
            --gradient: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
            --glass-bg: rgba(255, 255, 255, 0.1);
            --glass-border: rgba(255, 255, 255, 0.2);
        }

        /* ریست استایل‌ها */
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }
    
        /* استایل‌های کلی صفحه */
        body {
            font-family: 'B Nazanin', sans-serif;
            direction: rtl;
            text-align: right;
            font-size: 22px;
            line-height: 1.5;
            color: var(--text-color);
            background-color: var(--background-color);
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
            overflow-x: hidden;
        }

        /* هدر با تصویر پس‌زمینه متحرک */
        header {
            text-align: center;
            background: var(--gradient);
            color: white;
            padding: 50px 20px;
            border-radius: 0 0 50px 50px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.15);
            animation: fadeInDown 1s ease;
            position: relative;
            overflow: hidden;
        }

        header::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: url('background.jpg') no-repeat center center/cover;
            opacity: 0.2;
            z-index: -1;
            animation: moveBackground 20s linear infinite;
        }

        header h1 {
            font-size: 3rem;
            margin-bottom: 20px;
            animation: slideIn 1s ease;
        }

        header img {
            max-width: 150px;
            margin-top: 20px;
            border-radius: 50%;
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.4);
            animation: zoomIn 1s ease;
        }

        /* نوار ناوبری */
        nav ul {
            display: flex;
            justify-content: center;
            list-style: none;
            margin-top: 20px;
        }

        nav ul li {
            margin: 0 15px;
        }

        nav ul li a {
            text-decoration: none;
            color: white;
            padding: 10px 20px;
            background: var(--glass-bg);
            border: 1px solid var(--glass-border);
            border-radius: 25px;
            box-shadow: var(--button-shadow);
            transition: 0.3s;
            backdrop-filter: blur(10px);
        }

        nav ul li a:hover {
            background: var(--primary-color);
            transform: scale(1.1);
        }

        /* بخش اصلی */
        main {
            padding: 50px 20px;
            background-color: var(--card-bg-color);
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.1);
            border-radius: 20px;
            margin: -40px auto 20px auto;
            max-width: 1200px;
            animation: fadeIn 1s ease;
            position: relative;
            z-index: 1;
        }

        /* بخش‌های مختلف */
        section {
            background: var(--card-bg-color);
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
            padding: 30px;
            margin-bottom: 20px;
            border-radius: 15px;
            transition: transform 0.3s, box-shadow 0.3s;
        }

        section:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.2);
        }

        h2 {
            color: var(--primary-color);
            font-size: 2rem;
            margin-bottom: 15px;
            animation: slideIn 1s ease;
        }

        /* دکمه‌های انتخاب نوع داستان */
        .story-type-buttons {
            display: flex;
            justify-content: center;
            flex-wrap: wrap;
        }

        .story-type-button {
            display: inline-flex;
            flex-direction: column;
            align-items: center;
            padding: 20px;
            margin: 10px;
            border: none;
            border-radius: 15px;
            background: var(--gradient);
            color: white;
            cursor: pointer;
            transition: transform 0.3s, box-shadow 0.3s;
            animation: fadeInUp 1s ease;
            position: relative;
            overflow: hidden;
        }

        .story-type-button::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            width: 300%;
            height: 300%;
            background: radial-gradient(circle, rgba(255, 255, 255, 0.3), transparent);
            transform: translate(-50%, -50%) scale(0);
            transition: transform 0.5s ease;
        }

        .story-type-button:hover::before {
            transform: translate(-50%, -50%) scale(1);
        }

        .story-type-button img {
            width: 120px;
            height: 120px;
            border-radius: 15px;
            margin-bottom: 10px;
            object-fit: cover;
        }

        .story-type-button span {
            font-size: 1.2rem;
        }

        .story-type-button:hover {
            transform: scale(1.05);
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.2);
        }

        /* فرم تماس */
        form {
            background-color: var(--card-bg-color);
            padding: 20px 30px;
            border-radius: 15px;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
            font-size: 1rem;
            animation: fadeIn 1s ease;
        }

        form label {
            font-weight: bold;
            color: var(--primary-color);
        }

        form input, form textarea {
            width: 100%;
            padding: 10px;
            margin: 10px 0 20px;
            border: 1px solid #ccc;
            border-radius: 10px;
            box-shadow: inset 0 2px 4px rgba(0, 0, 0, 0.1);
            font-family: 'B Nazanin', sans-serif;
            font-size: 1rem;
        }

        form input[type="submit"] {
            background: var(--gradient);
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 25px;
            box-shadow: var(--button-shadow);
            cursor: pointer;
            transition: transform 0.3s, box-shadow 0.3s;
        }

        form input[type="submit"]:hover {
            transform: scale(1.1);
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.2);
        }

        /* فوتر */
        footer {
            text-align: center;
            padding: 10px;
            background: var(--gradient);
            color: white;
            border-radius: 10px 10px 0 0;
            animation: fadeInUp 1s ease;
        }

        /* انیمیشن‌ها */
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        @keyframes fadeInDown {
            from { opacity: 0; transform: translateY(-20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        @keyframes fadeInUp {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        @keyframes slideIn {
            from { opacity: 0; transform: translateX(-20px); }
            to { opacity: 1; transform: translateX(0); }
        }

        @keyframes zoomIn {
            from { opacity: 0; transform: scale(0.5); }
            to { opacity: 1; transform: scale(1); }
        }

        @keyframes moveBackground {
            0% { transform: scale(1); }
            50% { transform: scale(1.2); }
            100% { transform: scale(1); }
        }

        /* جلوه‌های ویژه */
        .glow {
            animation: glow 2s infinite alternate;
        }

        @keyframes glow {
            from { box-shadow: 0 0 10px var(--primary-color); }
            to { box-shadow: 0 0 20px var(--secondary-color); }
        }

        /* بخش جدید: گالری تصاویر */
        .gallery {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 20px;
            margin-top: 30px;
        }

        .gallery img {
            width: 200px;
            height: 200px;
            border-radius: 15px;
            object-fit: cover;
            transition: transform 0.3s, box-shadow 0.3s;
        }

        .gallery img:hover {
            transform: scale(1.1);
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.2);
        }

        /* بخش جدید: نظرات کاربران */
        .testimonials {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 20px;
            margin-top: 30px;
        }

        .testimonial {
            background: var(--card-bg-color);
            padding: 20px;
            border-radius: 15px;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
            width: 300px;
            transition: transform 0.3s, box-shadow 0.3s;
        }

        .testimonial:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.2);
        }

        .testimonial img {
            width: 80px;
            height: 80px;
            border-radius: 50%;
            margin-bottom: 10px;
        }

        .testimonial h3 {
            font-size: 1.2rem;
            color: var(--primary-color);
        }

        .testimonial p {
            font-size: 1rem;
            color: var(--text-color);
        }

        /* بخش جدید: آمار و ارقام */
        .stats {
            display: flex;
            justify-content: center;
            gap: 40px;
            margin-top: 30px;
        }

        .stat {
            text-align: center;
        }

        .stat h3 {
            font-size: 2rem;
            color: var(--primary-color);
        }

        .stat p {
            font-size: 1rem;
            color: var(--text-color);
        }

        /* بخش جدید: تیم ما */
        .team {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 20px;
            margin-top: 30px;
        }

        .team-member {
            background: var(--card-bg-color);
            padding: 20px;
            border-radius: 15px;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
            width: 250px;
            transition: transform 0.3s, box-shadow 0.3s;
        }

        .team-member:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.2);
        }

        .team-member img {
            width: 100px;
            height: 100px;
            border-radius: 50%;
            margin-bottom: 10px;
        }

        .team-member h3 {
            font-size: 1.2rem;
            color: var(--primary-color);
        }

        .team-member p {
            font-size: 1rem;
            color: var(--text-color);
        }

        /* بخش جدید: اخبار و مقالات */
        .news {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 20px;
            margin-top: 30px;
        }

        .news-item {
            background: var(--card-bg-color);
            padding: 20px;
            border-radius: 15px;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
            width: 300px;
            transition: transform 0.3s, box-shadow 0.3s;
        }

        .news-item:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.2);
        }

        .news-item img {
            width: 100%;
            height: 150px;
            border-radius: 15px;
            object-fit: cover;
            margin-bottom: 10px;
        }

        .news-item h3 {
            font-size: 1.2rem;
            color: var(--primary-color);
        }

        .news-item p {
            font-size: 1rem;
            color: var(--text-color);
        }

        /* بخش جدید: سوالات متداول */
        .faq {
            margin-top: 30px;
        }

        .faq-item {
            background: var(--card-bg-color);
            padding: 20px;
            border-radius: 15px;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
            margin-bottom: 20px;
            transition: transform 0.3s, box-shadow 0.3s;
        }

        .faq-item:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.2);
        }

        .faq-item h3 {
            font-size: 1.2rem;
            color: var(--primary-color);
        }

        .faq-item p {
            font-size: 1rem;
            color: var(--text-color);
        }

        select {
    width: 100%;
    padding: 10px;
    margin: 10px 0 20px;
    border: 1px solid #ccc;
    border-radius: 10px;
    box-shadow: inset 0 2px 4px rgba(0, 0, 0, 0.1);
    font-family: 'B Nazanin', sans-serif;
    font-size: 1rem;
    background-color: var(--card-bg-color);
    color: var(--text-color);
}

select:hover {
    border-color: var(--primary-color);
}

select:focus {
    outline: none;
    border-color: var(--primary-color);
    box-shadow: 0 0 5px rgba(108, 99, 255, 0.5);
}
#profile-picture {
    transition: all 0.3s ease;
}
#profile-picture:hover {
    transform: scale(1.05);
    box-shadow: 0 0 15px rgba(108, 99, 255, 0.5);
}
.story-list {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
    gap: 20px;
    margin-top: 20px;
}

.story-card {
    background: var(--card-bg-color);
    padding: 20px;
    border-radius: 15px;
    box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
    transition: transform 0.3s, box-shadow 0.3s;
}

.story-card:hover {
    transform: translateY(-5px);
    box-shadow: 0 8px 20px rgba(0, 0, 0, 0.2);
}

.story-card h3 {
    color: var(--primary-color);
    margin-bottom: 10px;
}

.story-card .meta {
    font-size: 0.9rem;
    color: #666;
    margin-bottom: 10px;
}


.story-modal {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(0, 0, 0, 0.8);
    display: flex;
    justify-content: center;
    align-items: center;
    z-index: 1000;
}

.modal-content {
    background: white;
    padding: 30px;
    border-radius: 15px;
    max-width: 800px;
    max-height: 80vh;
    overflow-y: auto;
    position: relative;
}

.close-btn {
    position: absolute;
    top: 15px;
    left: 15px;
    font-size: 24px;
    cursor: pointer;
}

.story-content {
    margin-top: 20px;
    line-height: 2;
    text-align: justify;
}

.delete-btn {
    background: #ff4444;
    color: white;
    margin-left: 10px;
}
.error {
    color: #ff4444;
    background: #ffeeee;
    padding: 10px;
    border-radius: 5px;
    border: 1px solid #ff4444;
}
/* اضافه کردن به استایل‌های موجود */
.uploaded-story button {
    margin: 5px;
    padding: 8px 15px;
    border: none;
    border-radius: 5px;
    cursor: pointer;
    transition: all 0.3s;
}

.uploaded-story button:first-of-type {
    background: linear-gradient(135deg, #1C39BB, #0067A5);
    color: white;
}

.uploaded-story button:last-of-type {
    background: linear-gradient(135deg, #00CED1, #32127A);
    color: white;
}

.uploaded-story button:hover {
    transform: scale(1.05);
    opacity: 0.9;
}
/* اضافه کردن به فایل استایل */
.versions-container {
  max-height: 60vh;
  overflow-y: auto;
  padding: 10px;
}

.version {
  padding: 10px;
  margin-bottom: 10px;
  border-bottom: 1px solid #eee;
}

.version-content {
  color: #666;
  font-size: 0.9em;
  margin-top: 5px;
}

.story-card button {
  margin: 5px;
}
    </style>
</head>
<body>
    <header>
        <h1>داستان نویسی مشارکتی</h1>
        <img src="image.jpeg" alt="تصویر">
        <nav>
            <ul>
                <li><a href="#about">درباره ما</a></li>
                <li><a href="#story">داستان‌ها</a></li> 
                <li><a href="#news" class="custom-property"> اخبار و مقالات </a></li>
                <li><a href="#faq" class="custom-property">سوالات متداول </a></li>
                <li><a href="#contact">تماس با ما</a></li>
            </ul>
        </nav>
    </header>
</br>
</br>
</br>
    </br>
    <main>

        <section id="user-profile">
            <h2>پروفایل من</h2>
            <div style="display: flex; align-items: center; gap: 20px; margin-bottom: 20px;">
                <img id="profile-picture" src="default-profile.jpg" alt="عکس پروفایل" 
                     style="width: 100px; height: 100px; border-radius: 50%; object-fit: cover; border: 3px solid #6c63ff;">
                <div>
                    <p><strong>👤 نام کاربری:</strong> <span id="profile-username">...</span></p>
                    <input type="file" id="profile-upload" accept="image/*" style="display: none;">
                    <button onclick="document.getElementById('profile-upload').click()">📷 تغییر عکس پروفایل</button>
                </div>
            </div>
            <button onclick="logout()">🚪 خروج از حساب</button>
        </section>


        <section id="about">  
            <h2>درباره ما</h2>  
            <p><b>به نام خدا</b>  
            </br>
                داستان‌نویسی مشارکتی یکی از شیوه‌های نوین نوشتن داستان است که در آن چند نفر به‌طور همزمان یا به‌صورت مشترک در خلق یک اثر داستانی شرکت می‌کنند. این روش نوشتن می‌تواند به شیوه‌های مختلفی انجام شود و دارای ویژگی‌ها و مزایای خاص خود است. در ادامه به توضیحاتی در مورد داستان‌نویسی مشارکتی پرداخته می‌شود:
            </br>
                <b>تعریف داستان‌نویسی مشارکتی: </b> 
        </br>
                داستان‌نویسی مشارکتی به معنای همکاری و تعامل بین چند نویسنده (یا یک گروه بزرگ‌تر) برای خلق یک داستان واحد است. در این نوع نوشتن، نویسندگان می‌توانند هر قسمت از داستان را بر عهده بگیرند، شخصیت‌ها را توسعه دهند، دیالوگ‌ها را بنویسند و مسیر داستان را جهت‌دهی کنند.
            </br>
                <b> روش‌های داستان‌نویسی مشارکتی: </b> 
        </br>
                زندگی مصنوعی (Collaborative Fiction): در این روش، نویسندگان به‌صورت آنلاین و در یک پلتفرم مشترک داستان را می‌نویسند. هر نویسنده ممکن است بخش‌هایی از داستان را اضافه کند یا تغییراتی در بخش‌های قبلی ایجاد کند.
                داستا‌ن‌نویسی حلقه‌ای (Round-Robin Storytelling): در این تکنیک، افراد یک به یک نوبت می‌گیرند تا قسمت‌های داستان را بنویسند. هر نویسنده تنها می‌تواند بر اساس بخش‌های قبلی داستان ادامه دهد.
                برچسب‌گذاری (Tag Storytelling): در این شکل، هر نویسنده پس از نوشتن یک بخش، یک برچسب به داستان اضافه می‌کند که به دیگر نویسندگان کمک می‌کند تا بدانند چطور می‌توانند داستان را ادامه دهند.
            </br>
                <b> مزایای داستان‌نویسی مشارکتی:</b> 
        </br>
                خلاقیت مشترک: همکاری با دیگر نویسندگان می‌تواند خروجی‌های غیرمنتظره و خلاقانه‌ای به همراه داشته باشد که هر نویسنده به‌تنهایی نمی‌تواند به آن‌ها دست یابد.
                توسعه مهارت‌های نوشتن: نویسندگان با کار کردن در کنار یکدیگر می‌توانند از تجربیات و ایده‌های همدیگر بهره‌مند شوند و مهارت‌های خود را تقویت کنند.
                گسترش شبکه اجتماعی: داستان‌نویسی مشارکتی فرصتی برای ملاقات افراد جدید و برقراری ارتباط با سایر نویسندگان فراهم می‌آورد.
            </br>
                <b> چالش‌های داستان‌نویسی مشارکتی:</b> 
            <br/>
                همگامی و هماهنگی: حفظ انسجام داستان وقتی که چند نویسنده در حال کار بر روی آن هستند، ممکن است دشوار باشد.
                تضادهای خلاق: گاهی ممکن است که نویسندگان در مورد اهداف داستان یا نحوه توسعه شخصیت‌ها اختلاف نظر داشته باشند.
                تقسیم کار: در صورتی که تقسیم کار به درستی انجام نشود، ممکن است برخی نویسندگان بیشتر از دیگران دچار بار اضافی شوند.
            </br>
              <b>کاربردها:</b> 
                <br/>
                داستان‌نویسی مشارکتی می‌تواند در زمینه‌های مختلفی کاربرد داشته باشد، از جمله:
                
                نوشتن رمان یا داستان‌های کوتاه: گروه‌های نویسندگی می‌توانند با همکاری به خلق ادبیات بپردازند.
                نویسندگی بازی‌های ویدیویی یا RPG: در بسیاری از بازی‌های ویدیویی، داستان‌ها توسط تیمی از نویسندگان خلق می‌شوند.
                برگزاری کارگاه‌های آموزشی: در کارگاه‌های داستان‌نویسی، اساتید می‌توانند به نویسندگان مبتدی کمک کنند تا با اصول داستان‌نویسی مشارکتی آشنا شوند.
        </br>
                <b>نتیجه‌گیری :</b> 
                <br/>
                داستان‌نویسی مشارکتی یک فرایند خلاقانه و دو طرفه است که می‌تواند منجر به ایجاد داستان‌های جذاب و نوآورانه شود. این شیوه به نویسندگان این امکان را می‌دهد که ایده‌های خود را با دیگران به اشتراک بگذارند و در کنار یکدیگر از دنیای داستان‌نویسی لذت ببرند.     
            </p>  
        </section>  
        <section id="story">  
            <h2>انتخاب نوع داستان</h2>  
            <div class="story-type-buttons">  
                <button class="story-type-button" onclick="window.location.href='romance.html?genre=love'">  
                    <img src="love.jfif" alt="داستان‌های عاشقانه">  
                    <span>داستان‌های عاشقانه</span>  
                </button>  
                <button class="story-type-button" onclick="window.location.href='epic.html?genre=epic'">  
                    <img src="epic.jfif" alt="داستان‌های حماسی">  
                    <span>داستان‌های حماسی</span>  
                </button>  
                <button class="story-type-button" onclick="window.location.href='scientific.html?genre=scifi'">  
                    <img src="scientific.jfif" alt="داستان‌های علمی تخیلی">  
                    <span>داستان‌های علمی تخیلی</span>  
                </button>  
            </div>  
        </section>  
        <br><br><br><br> 
        
        <section id="recent-uploads">
            <h2>داستان‌های بارگزاری شده اخیر</h2>
            <div class="uploaded-stories">
                </div>
        </section>
        <section id="news">
            <h2>اخبار و مقالات</h2>
            <div class="news">
                <div class="news-item">
                    
                    <h3>مقاله جدید درباره داستان‌نویسی مشارکتی</h3>
                    <p>در این مقاله به بررسی مزایای داستان‌نویسی مشارکتی پرداخته شده است.</p>
                </div>
                <div class="news-item">
                
                    <h3>کارگاه آموزشی داستان‌نویسی</h3>
                    <p>کارگاه آموزشی داستان‌نویسی مشارکتی در تاریخ 10 آبان برگزار می‌شود.</p>
                </div>
                <div class="news-item">
                    
                    <h3>رمان جدید منتشر شد</h3>
                    <p>رمان جدیدی که به صورت مشارکتی نوشته شده است، منتشر شد.</p>
                </div>
            </div>
        </section>

        <!-- بخش جدید: سوالات متداول -->
        <section id="faq">
            <h2>سوالات متداول </h2>
            <div class="faq">
                <div class="faq-item">
                    <h3>چگونه می‌توانم در داستان‌نویسی مشارکتی شرکت کنم؟</h3>
                    <p>برای شرکت در داستان‌نویسی مشارکتی، می‌توانید در سایت ثبت‌نام کنید و به گروه‌های نویسندگی بپیوندید.</p>
                </div>
                <div class="faq-item">
                    <h3>آیا داستان‌نویسی مشارکتی برای مبتدیان مناسب است؟</h3>
                    <p>بله، داستان‌نویسی مشارکتی برای همه سطوح مناسب است و می‌تواند به بهبود مهارت‌های نوشتن کمک کند.</p>
                </div>
                <div class="faq-item">
                    <h3>چگونه می‌توانم با دیگر نویسندگان ارتباط برقرار کنم؟</h3>
                    <p>شما می‌توانید از طریق پلتفرم‌های ارتباطی موجود در سایت با دیگر نویسندگان در ارتباط باشید.</p>
                </div>
            </div>
        </section>
        <form onsubmit="submitForm(event)">
            <section id="contact">  
                <h2>تماس با ما</h2> 
                <label for="name">نام:</label>
                <input type="text" id="name" name="name" placeholder="نام خود را وارد کنید"><br>
                <label for="email">ایمیل:</label>
                <input type="email" id="email" name="email" placeholder="ایمیل خود را وارد کنید"><br>
                
                <!-- اضافه کردن گزینه‌ها -->
                <label for="subject">موضوع:</label>
                <select id="subject" name="subject">
                    <option value="general">عمومی</option>
                    <option value="support">پشتیبانی</option>
                    <option value="collaboration">همکاری</option>
                    <option value="feedback">بازخورد</option>
                    <option value="other">سایر</option>
                </select><br>
        
                <label for="message">پیام:</label>
                <textarea id="message" name="message" placeholder="پیام خود را وارد کنید" style="height: 100px;"></textarea><br>
                <input type="submit" value="ارسال">
            </section>
        </form>
    </main>
    <footer>
        تمامی حقوق محفوظ است.
    </footer>

    
    <script>
function deleteStory(id, type) {
  if (!confirm('آیا از حذف این داستان اطمینان دارید؟')) return;
  
  if (type === 'uploaded') {
    let uploadedStories = JSON.parse(localStorage.getItem('uploadedStories')) || [];
    uploadedStories = uploadedStories.filter(story => story.title !== id);
    localStorage.setItem('uploadedStories', JSON.stringify(uploadedStories));
  } else {
    let sharedStories = JSON.parse(localStorage.getItem('sharedStories')) || [];
    sharedStories = sharedStories.filter(story => story.id !== id);
    localStorage.setItem('sharedStories', JSON.stringify(sharedStories));
  }
  
  alert('داستان با موفقیت حذف شد');
  loadRecentStories(); // به‌روزرسانی لیست
}

function shareForCollaboration() {
  const storyText = document.getElementById('storyText').value;
  if (!storyText.trim()) {
    alert("لطفاً ابتدا داستان خود را بنویسید!");
    return;
  }

  const username = localStorage.getItem("username");
  const title = prompt("عنوانی برای داستان خود وارد کنید:", 
    "داستان علمی تخیلی - " + new Date().toLocaleDateString('fa-IR'));
  
  if (!title) return;

  // ایجاد شناسه منحصر به فرد
  const storyId = 'story-' + Math.random().toString(36).substr(2, 9);

  const storyData = {
    id: storyId,
    title: title,
    initialAuthor: username,
    currentAuthor: username,
    content: storyText,
    versions: [{
      author: username,
      content: storyText,
      date: new Date().toLocaleString('fa-IR')
    }],
    createdAt: new Date().toLocaleString('fa-IR'),
    updatedAt: new Date().toLocaleString('fa-IR'),
    isPublic: true
  };

  let sharedStories = JSON.parse(localStorage.getItem('sharedStories')) || [];
  sharedStories.unshift(storyData);
  localStorage.setItem('sharedStories', JSON.stringify(sharedStories));
  
  alert("داستان شما برای همکاری با دیگران به اشتراک گذاشته شد!");
  loadSharedStories();
}
function loadRecentStories() {
  const uploadedStories = JSON.parse(localStorage.getItem('uploadedStories')) || [];
  const sharedStories = JSON.parse(localStorage.getItem('sharedStories')) || [];
  const container = document.querySelector('.uploaded-stories');
  
  container.innerHTML = '';
  
  // ترکیب و مرتب‌سازی داستان‌ها
  const allStories = [...uploadedStories, ...sharedStories]
    .sort((a, b) => new Date(b.updatedAt || b.date) - new Date(a.updatedAt || a.date))
    .slice(0, 5);
  
  if (allStories.length === 0) {
    container.innerHTML = '<p>هنوز داستانی آپلود نشده است.</p>';
    return;
  }
  
  allStories.forEach(story => {
    const isShared = story.versions && story.versions.length > 0;
    const authorsText = isShared ? 
      ` (همکاری: ${story.versions.map(v => v.author).join('، ')})` : '';
    
    const storyElement = document.createElement('div');
    storyElement.className = 'uploaded-story';
    storyElement.innerHTML = `
      <h3>${story.title}</h3>
      <p><strong>نویسنده: ${story.initialAuthor || story.author}${authorsText}</p>
      <p><strong>تاریخ: ${story.updatedAt || story.date}</p>
      <p><strong>ژانر: ${story.genre || 'نامشخص'}</p>
      <div class="story-content" style="max-height: 100px; overflow: hidden;">
        ${story.content.substring(0, 200)}${story.content.length > 200 ? '...' : ''}
      </div>
      <button onclick="expandStory(this)">نمایش کامل</button>
      ${isShared ? `<button onclick="window.location.href='scientific.html?continue=${story.id}'">ادامه این داستان</button>` : ''}
    `;
    container.appendChild(storyElement);
  });
}
function expandStory(button) {
    const contentDiv = button.previousElementSibling;
    if (contentDiv.style.maxHeight === '100px') {
        contentDiv.style.maxHeight = 'none';
        button.textContent = 'بستن';
    } else {
        contentDiv.style.maxHeight = '100px';
        button.textContent = 'نمایش کامل';
    }
}

// فراخوانی تابع هنگام لود صفحه
window.addEventListener('DOMContentLoaded', loadRecentStories);
// بارگیری داستان‌ها هنگام لود صفحه
window.addEventListener('DOMContentLoaded', loadRecentStories);
   // دریافت نام کاربری از localStorage
   const username = localStorage.getItem("username");
    
    if (!username) {
        alert("لطفاً ابتدا وارد شوید!");
        window.location.href = "index.php";
    } else {
        // نمایش مشخصات در پروفایل
        document.getElementById('profile-username').textContent = username;
        
        // بارگذاری عکس پروفایل از localStorage
        const profilePic = localStorage.getItem('profilePicture');
        if (profilePic) {
            document.getElementById('profile-picture').src = profilePic;
        } else {
            // استفاده از تصویر پیش‌فرض اگر عکسی وجود ندارد
            document.getElementById('profile-picture').src = "default-profile.jpg";
        }
        
        // مدیریت آپلود عکس پروفایل
        document.getElementById('profile-upload').addEventListener('change', function(e) {
            const file = e.target.files[0];
            if (file) {
                // بررسی حجم فایل (حداکثر 2MB)
                if (file.size > 2 * 1024 * 1024) {
                    alert("حجم عکس باید کمتر از 2MB باشد!");
                    return;
                }
                
                const reader = new FileReader();
                reader.onload = function(event) {
                    const imgUrl = event.target.result;
                    // ذخیره در localStorage
                    localStorage.setItem('profilePicture', imgUrl);
                    // نمایش عکس جدید
                    document.getElementById('profile-picture').src = imgUrl;
                    alert('عکس پروفایل با موفقیت تغییر کرد!');
                };
                reader.readAsDataURL(file);
            }
        });
    }
    
    function logout() {
        localStorage.removeItem("username");
        localStorage.removeItem("profilePicture");
        window.location.href = "index.php";
    }

    

    function login() {
    const username = document.getElementById('login-username').value;
    const password = document.getElementById('login-password').value;
    // در صفحه login.html پس از ورود موفق:
localStorage.setItem("username", username);

    fetch('login_process.php', {
        method: 'POST',
        headers: {
            'Content-Type': 'application/x-www-form-urlencoded',
        },
        body: `username=${encodeURIComponent(username)}&password=${encodeURIComponent(password)}`,
        credentials: 'include' // این خط حیاتی است
    })
    .then(response => response.json())
    .then(data => {
        if (data.success) {
            localStorage.setItem("username", username);
            window.location.href = "scientific.html";
        } else {
            alert(data.message || "ورود ناموفق بود");
        }
    })
    .catch(error => {
        console.error("خطا:", error);
        alert("خطا در ارتباط با سرور");
    });
}
    </script>
    

    
</body>
</html>